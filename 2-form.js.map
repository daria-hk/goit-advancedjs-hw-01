{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["let formData = { email: \"\", message: \"\" };\nconst form = document.querySelector(\".feedback-form\");\nconst STORAGE_KEY = \"feedback-form-state\";\n\nfillFromLocalStorage(form);\n\nform.addEventListener(\"input\", handleFormInput);\nform.addEventListener(\"submit\", handleFormSubmit);\n\nfunction fillFromLocalStorage(form) {\n  let hasDataInLocalStorage = JSON.parse(\n    localStorage.getItem(STORAGE_KEY, JSON.stringify(formData)),\n  );\n\n  if (hasDataInLocalStorage === null) {\n    return;\n  } else if (hasDataInLocalStorage.message || hasDataInLocalStorage.email) {\n    for (const key in hasDataInLocalStorage) {\n      form.elements[key].value = hasDataInLocalStorage[key];\n      formData[key] = hasDataInLocalStorage[key];\n    }\n  }\n}\n\nfunction handleFormInput(evt) {\n  const { name, value } = evt.target;\n\n  if (name in formData) {\n    formData[name] = value.trim();\n  }\n\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction handleFormSubmit(evt) {\n  evt.preventDefault();\n\n  const { email, message } = evt.target.elements;\n\n  if (!email.value.trim() || !message.value.trim()) {\n    alert(\"Please fill out all fields.\");\n    return;\n  }\n\n  console.log(localStorage.getItem(STORAGE_KEY, JSON.stringify(formData)));\n\n  localStorage.removeItem(STORAGE_KEY);\n  form.reset();\n\n  for (const key in formData) {\n    formData[key] = \"\";\n  }\n}\n"],"names":["formData","form","STORAGE_KEY","fillFromLocalStorage","handleFormInput","handleFormSubmit","hasDataInLocalStorage","key","evt","name","value","email","message"],"mappings":"wFAAA,IAAIA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACvC,MAAMC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAc,sBAEpBC,EAAqBF,CAAI,EAEzBA,EAAK,iBAAiB,QAASG,CAAe,EAC9CH,EAAK,iBAAiB,SAAUI,CAAgB,EAEhD,SAASF,EAAqBF,EAAM,CAClC,IAAIK,EAAwB,KAAK,MAC/B,aAAa,QAAQJ,EAAa,KAAK,UAAUF,CAAQ,CAAC,CAC9D,EAEE,GAAIM,IAA0B,OAEnBA,EAAsB,SAAWA,EAAsB,OAChE,UAAWC,KAAOD,EAChBL,EAAK,SAASM,CAAG,EAAE,MAAQD,EAAsBC,CAAG,EACpDP,EAASO,CAAG,EAAID,EAAsBC,CAAG,CAG/C,CAEA,SAASH,EAAgBI,EAAK,CAC5B,KAAM,CAAE,KAAAC,EAAM,MAAAC,GAAUF,EAAI,OAExBC,KAAQT,IACVA,EAASS,CAAI,EAAIC,EAAM,KAAI,GAG7B,aAAa,QAAQR,EAAa,KAAK,UAAUF,CAAQ,CAAC,CAC5D,CAEA,SAASK,EAAiBG,EAAK,CAC7BA,EAAI,eAAc,EAElB,KAAM,CAAE,MAAAG,EAAO,QAAAC,CAAO,EAAKJ,EAAI,OAAO,SAEtC,GAAI,CAACG,EAAM,MAAM,KAAI,GAAM,CAACC,EAAQ,MAAM,OAAQ,CAChD,MAAM,6BAA6B,EACnC,MACD,CAED,QAAQ,IAAI,aAAa,QAAQV,EAAa,KAAK,UAAUF,CAAQ,CAAC,CAAC,EAEvE,aAAa,WAAWE,CAAW,EACnCD,EAAK,MAAK,EAEV,UAAWM,KAAOP,EAChBA,EAASO,CAAG,EAAI,EAEpB"}